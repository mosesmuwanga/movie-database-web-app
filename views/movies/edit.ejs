<% layout('layouts/boilerplate') %>

<div class="row mt-3">

    <div class="col-md-6 offset-md-3">
        <div class="card shadow mb-4">
            <div class="card-body">
                <div class="justify-content-center">
                    <h1 class="card-title text-center mb-4 mt-1"> Editing <%= movie.title %></h1>
                    <a href="/movies/<%=movie.id%>">Back to <%= movie.title %> </a>
                    <form action="/movies/<%=movie._id%>?_method=PUT" method="POST" class="valid-form" novalidate>
                        <div class="mb-3">
                            <label class="form-label" for="title">Title</label>
                            <input class="form-control" type="text" name="movie[title]" value="<%= movie.title %> "
                                required>
                            <div class="valid-feedback">Looks Good!</div>
                            <div class="invalid-feedback">What's the title?</div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="year">Year</label>
                            <input class="form-control" type="text" name="movie[year]" value="<%= movie.year %> "
                                required>
                            <div class="valid-feedback">Looks Good!</div>
                            <div class="invalid-feedback">What year was it released?</div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="runtime">Runtime</label>
                            <input class="form-control" type="text" id="runtime" name="movie[runtime]"
                                value="<%= movie.runtime %> " placeholder="107 min" required>
                            <div class="valid-feedback">Looks Good!</div>
                            <div class="invalid-feedback">How long is it?</div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="directors">Directors</label>
                            <input class="form-control" type="text" id="directors" name="movie[directors]"
                                placeholder="Spike Lee, Martin Scorsese..." list="dList"></input>
                            <datalist id="dList">
                                <% for (director of people) {%>
                                <% if (director.role === 'Director') {%>
                                <option value="<%= director.name %> "></option>
                                <% }}%>
                            </datalist>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="writers">Writers</label>
                            <input class="form-control" type="text" id="writers" name="movie[writers]"
                                placeholder="Jordan Peele, Charlie Kaufman..." list="wList"></input>
                            <datalist id="wList">
                                <% for (writer of people) {%>
                                <% if (writer.role === 'Writer') {%>
                                <option value="<%= writer.name %> "></option>
                                <% }}%>
                            </datalist>
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="actors">Actors</label>
                            <input class="form-control" type="text" id="actors" name="movie[actors]"
                                placeholder="Sandra Bullock, Chadwick Boseman, Viola Davis..." list="aList"></input>
                            <datalist id="aList">
                                <% for (actor of people) {%>
                                <% if (actor.role === 'Actor') {%>
                                <option value="<%= actor.name %> "></option>
                                <% }}%>
                            </datalist>
                            <button class="mt-3 btn btn-sm btn-block btn-outline-success">Add</button>
                            <ul></ul>
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="plot">Plot</label>
                            <textarea class="form-control" type="text" id="plot"
                                name="movie[plot]"><%= movie.plot %></textarea>
                            <div class="valid-feedback">Looks Good!</div>
                            <div class="invalid-feedback">What's it about?</div>
                        </div>
                        <div class="mb-3">
                            <label for="genre">Genre</label>
                            <select id="genre" type="text" name="movie[genre]" value="<%= movie.genre %> " multiple>
                                <option value="Action">Action</option>
                                <option value="Adventure">Adventure</option>
                                <option value="Anamation">Anamation</option>
                                <option value="Comedy">Comedy</option>
                                <option value="Crime">Crime</option>
                                <option value="Documentary">Documentary</option>
                                <option value="Drama">Drama</option>
                                <option value="Family">Family</option>
                                <option value="Fantasy">Fantasy</option>
                                <option value="Horror">Horror</option>
                                <option value="Romance">Romance</option>
                                <option value="Thriller">Thriller</option>
                                <option value="Western">Western</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="rated">Rated</label>
                            <select id="rated" type="text" name="movie[rated] value=" <%= movie.rated %>>
                                <option value="G">G</option>
                                <option value="PG">PG</option>
                                <option value="PG-13">PG-13</option>
                                <option value="R">R</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="poster">Poster URL</label>
                            <input class="form-control" type="text" id="poster" name="movie[poster]"
                                value="<%= movie.poster %> " placeholder="https://example.com/jpeg/">
                        </div>
                        <div class="mb-3">
                            <button class="btn btn-outline-success btn-block">Update</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>